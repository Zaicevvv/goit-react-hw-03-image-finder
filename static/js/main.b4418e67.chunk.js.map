{"version":3,"sources":["components/App.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/service/api.js","components/SearchForm/SearchForm.js","components/ErrorNotification/ErrorNotification.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App.js","index.js"],"names":["module","exports","app","button","gallery","gallery_item","fullscreen_button","overlay","modal","photo_card","stats","stats_item","search_form","fetchImages","query","pageNumber","axios","get","concat","SearchForm","state","handleChange","event","_this","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","react_default","a","createElement","className","css","type","autoComplete","placeholder","onChange","Component","ErrorNotification","_ref","text","PhotoCard","webformatURL","likes","views","comments","downloads","openModal","src","alt","onClick","defaultProps","Gallery","pictures","map","picture","key","id","components_PhotoCard_PhotoCard","Object","assign","largeImageURL","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackDropClick","current","window","addEventListener","removeEventListener","largeImage","ref","onClickCapture","role","onKeyDownCapture","mapper","items","App","isLoading","error","isModalOpen","onSearchForm","fetchImage","then","_ref2","data","hits","catch","finally","handleClickMorePicture","_this$state","_ref3","toConsumableArray","closeModal","handleChangeImg","url","prevState","scrollTo","top","document","body","scrollHeight","behavior","_this$state2","SearchForm_SearchForm","LazyLoad_default","height","throttle","debounce","offsetVertical","length","components_Gallery_Gallery","Modal_Modal","components_ErrorNotification_ErrorNotification","message","ReactDOM","render","App_App","querySelector"],"mappings":"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","file":"static/js/main.b4418e67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app___sifi\",\"button\":\"App_button__2Cbei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__48GNZ\",\"gallery_item\":\"Gallery_gallery_item__1euAR\",\"fullscreen_button\":\"Gallery_fullscreen_button__2N6hw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1YOGl\",\"modal\":\"Modal_modal__-ZKTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__1xtDC\",\"stats\":\"PhotoCard_stats__2pRrG\",\"stats_item\":\"PhotoCard_stats_item__1_oaf\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__2lMp6\",\"gallery_item\":\"PhotoCard_gallery_item__353tE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__3WNHn\"};","import axios from 'axios';\n\nconst key = '12774911-b20dcfb89f4d577a4321e9bc7';\nconst BASE_URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\nconst fetchImages = (query, pageNumber) =>\n  axios.get(`${BASE_URL + query}&page=${pageNumber}&per_page=12&key=${key}`);\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({\n      query: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <form className={css.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n          value={query}\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1> WHOOPS, something went wrong !!! {text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  openModal,\n}) => (\n  <div className={css.photo_card}>\n    <img src={webformatURL} alt=\"random-img\" />\n\n    <div className={css.stats}>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button type=\"button\" className={css.fullscreen_button} onClick={openModal}>\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.defaultProps = {\n  comments: 129,\n};\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ pictures, openModal }) => (\n  <div>\n    <ul className={css.gallery}>\n      {pictures.map(picture => (\n        <li key={picture.id} className={css.gallery_item}>\n          <PhotoCard\n            {...picture}\n            openModal={() => openModal(picture.largeImageURL)}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    largeImage: '',\n  };\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = event => {\n    if (event.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackDropClick = event => {\n    const { current } = this.backdropRef;\n\n    if (current && event.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return (\n      <div\n        className={css.overlay}\n        ref={this.backdropRef}\n        onClickCapture={this.handleBackDropClick}\n        role=\"img\"\n        onKeyDownCapture={this.handleKeyPress}\n      >\n        <div className={css.modal}>\n          <img src={largeImage} alt=\"random-img\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport LazyLoad from 'react-lazy-load';\nimport css from './App.module.css';\nimport fetchImages from './service/api';\nimport SearchForm from './SearchForm/SearchForm';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nconst mapper = items =>\n  items.map(({ id, webformatURL, largeImageURL, likes, views, downloads }) => ({\n    id,\n    webformatURL,\n    largeImageURL,\n    likes,\n    views,\n    downloads,\n  }));\n\nexport default class App extends Component {\n  state = {\n    pictures: [],\n    query: '',\n    pageNumber: 1,\n    isLoading: false,\n    error: false,\n    isModalOpen: false,\n    largeImageURL: null,\n  };\n\n  componentDidMount() {\n    this.fetchImage({ query: '', pageNumber: 1 });\n  }\n\n  componentDidUpdate(prevState) {\n    const { pictures } = this.state;\n\n    if (prevState.pictures !== pictures) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onSearchForm = value => {\n    this.setState({ query: value, pictures: [] }, () => {\n      this.fetchImage(value);\n    });\n  };\n\n  fetchImage = query => {\n    this.setState({ isLoading: true });\n\n    fetchImages(query, 1)\n      .then(({ data }) => {\n        this.setState(state => ({\n          pictures: data.hits,\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  handleClickMorePicture = () => {\n    const { query, pageNumber } = this.state;\n\n    fetchImages(query, pageNumber)\n      .then(({ data }) => {\n        this.setState(state => ({\n          query,\n          pictures: [...state.pictures, ...mapper(data.hits)],\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  openModal = id => {\n    this.setState({ isModalOpen: true, largeImageURL: id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  handleChangeImg = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  render() {\n    const {\n      error,\n      pictures,\n      isModalOpen,\n      isLoading,\n      largeImageURL,\n    } = this.state;\n\n    return (\n      <div className={css.app}>\n        <SearchForm onSubmit={this.onSearchForm} />\n        {isLoading && (\n          <LazyLoad\n            height={762}\n            throttle={250}\n            debounce={false}\n            offsetVertical={300}\n          >\n            <img\n              src=\"http://apod.nasa.gov/apod/image/1502/ToadSky_Lane_1080_annotated.jpg\"\n              alt=\"Lazy Load Example\"\n            />\n          </LazyLoad>\n        )}\n        {pictures.length > 0 && (\n          <Gallery pictures={pictures} openModal={this.openModal} />\n        )}\n        {pictures.length > 0 && (\n          <button\n            type=\"button\"\n            className={css.button}\n            onClick={this.handleClickMorePicture}\n          >\n            Load more\n          </button>\n        )}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} largeImage={largeImageURL} />\n        )}\n        {error && <ErrorNotification text={error.message} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}