{"version":3,"sources":["components/App.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/service/api.js","components/SearchForm/SearchForm.js","components/ErrorNotification/ErrorNotification.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App.js","index.js"],"names":["module","exports","app","button","gallery","gallery_item","fullscreen_button","overlay","modal","photo_card","stats","stats_item","search_form","fetchImages","query","pageNumber","axios","get","concat","SearchForm","state","handleChange","event","_this","setState","target","value","handleSubmit","preventDefault","props","onSubmit","Object","objectSpread","this","react_default","a","createElement","className","css","type","autoComplete","placeholder","onChange","Component","ErrorNotification","_ref","text","PhotoCard","webformatURL","likes","views","comments","downloads","openModal","src","alt","onClick","defaultProps","Gallery","pictures","map","picture","key","id","components_PhotoCard_PhotoCard","assign","largeImageURL","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackDropClick","current","window","addEventListener","removeEventListener","largeImage","ref","onClickCapture","role","onKeyDownCapture","mapper","items","App","isLoading","error","isModalOpen","onSearchForm","fetchImage","then","_ref2","data","hits","catch","finally","handleClickMorePicture","_this$state","_ref3","toConsumableArray","closeModal","handleChangeImg","url","prevState","scrollTo","top","document","body","scrollHeight","behavior","_this$state2","SearchForm_SearchForm","LazyLoad_default","height","throttle","debounce","offsetVertical","length","components_Gallery_Gallery","Modal_Modal","components_ErrorNotification_ErrorNotification","message","ReactDOM","render","App_App","querySelector"],"mappings":"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","file":"static/js/main.41f46819.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app___sifi\",\"button\":\"App_button__2Cbei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__48GNZ\",\"gallery_item\":\"Gallery_gallery_item__1euAR\",\"fullscreen_button\":\"Gallery_fullscreen_button__2N6hw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1YOGl\",\"modal\":\"Modal_modal__-ZKTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__1xtDC\",\"stats\":\"PhotoCard_stats__2pRrG\",\"stats_item\":\"PhotoCard_stats_item__1_oaf\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__2lMp6\",\"gallery_item\":\"PhotoCard_gallery_item__353tE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__3WNHn\"};","import axios from 'axios';\n\nconst key = '12774911-b20dcfb89f4d577a4321e9bc7';\nconst BASE_URL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\nconst fetchImages = (query, pageNumber) =>\n  axios.get(`${BASE_URL + query}&page=${pageNumber}&per_page=12&key=${key}`);\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({\n      query: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit({ ...this.state });\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <form className={css.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          onChange={this.handleChange}\n          value={query}\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1> WHOOPS, something went wrong !!! {text}</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  openModal,\n}) => (\n  <div className={css.photo_card}>\n    <img src={webformatURL} alt=\"random-img\" />\n\n    <div className={css.stats}>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={css.stats_item}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button type=\"button\" className={css.fullscreen_button} onClick={openModal}>\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.defaultProps = {\n  comments: 129,\n};\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number,\n  downloads: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ pictures, openModal }) => (\n  <div>\n    <ul className={css.gallery}>\n      {pictures.map(picture => (\n        <li key={picture.id} className={css.gallery_item}>\n          <PhotoCard\n            {...picture}\n            openModal={() => openModal(picture.largeImageURL)}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static defaultProps = {\n    largeImage: '',\n  };\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = event => {\n    if (event.code !== 'Escape') {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackDropClick = event => {\n    const { current } = this.backdropRef;\n\n    if (current && event.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return (\n      <div\n        className={css.overlay}\n        ref={this.backdropRef}\n        onClickCapture={this.handleBackDropClick}\n        role=\"img\"\n        onKeyDownCapture={this.handleKeyPress}\n      >\n        <div className={css.modal}>\n          <img src={largeImage} alt=\"random-img\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport LazyLoad from 'react-lazy-load';\nimport css from './App.module.css';\nimport fetchImages from './service/api';\nimport SearchForm from './SearchForm/SearchForm';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\nconst mapper = items =>\n  items.map(({ id, webformatURL, largeImageURL, likes, views, downloads }) => ({\n    id,\n    webformatURL,\n    largeImageURL,\n    likes,\n    views,\n    downloads,\n  }));\n\nexport default class App extends Component {\n  state = {\n    pictures: [],\n    query: '',\n    pageNumber: 1,\n    isLoading: false,\n    error: false,\n    isModalOpen: false,\n    largeImageURL: null,\n  };\n\n  componentDidMount() {\n    this.fetchImage({ query: '', pageNumber: 1 });\n  }\n\n  componentDidUpdate(prevState) {\n    const { pictures } = this.state;\n\n    if (prevState.pictures !== pictures) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onSearchForm = value => {\n    const { query } = value;\n\n    this.setState({ query, pictures: [], pageNumber: 1 }, () => {\n      this.fetchImage(query);\n    });\n  };\n\n  fetchImage = query => {\n    this.setState({ isLoading: true });\n\n    fetchImages(query, 1)\n      .then(({ data }) => {\n        this.setState(state => ({\n          pictures: data.hits,\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  handleClickMorePicture = () => {\n    const { query, pageNumber } = this.state;\n\n    fetchImages(query, pageNumber)\n      .then(({ data }) => {\n        this.setState(state => ({\n          query,\n          pictures: [...state.pictures, ...mapper(data.hits)],\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  openModal = id => {\n    this.setState({ isModalOpen: true, largeImageURL: id });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  handleChangeImg = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  render() {\n    const {\n      error,\n      pictures,\n      isModalOpen,\n      isLoading,\n      largeImageURL,\n    } = this.state;\n\n    return (\n      <div className={css.app}>\n        <SearchForm onSubmit={this.onSearchForm} />\n        {isLoading && (\n          <LazyLoad\n            height={762}\n            throttle={250}\n            debounce={false}\n            offsetVertical={300}\n          >\n            <img\n              src=\"http://apod.nasa.gov/apod/image/1502/ToadSky_Lane_1080_annotated.jpg\"\n              alt=\"Lazy Load Example\"\n            />\n          </LazyLoad>\n        )}\n        {pictures.length > 0 && (\n          <Gallery pictures={pictures} openModal={this.openModal} />\n        )}\n        {pictures.length > 0 && (\n          <button\n            type=\"button\"\n            className={css.button}\n            onClick={this.handleClickMorePicture}\n          >\n            Load more\n          </button>\n        )}\n        {isModalOpen && (\n          <Modal onClose={this.closeModal} largeImage={largeImageURL} />\n        )}\n        {error && <ErrorNotification text={error.message} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}